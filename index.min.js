var __webpack_require__={d:(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},o:(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)},__webpack_exports__={};__webpack_require__.d(__webpack_exports__,{Z:()=>lib});const __axle_js_middleware=[];function use(cb){return __axle_js_middleware.push(cb)}function __getMiddleware(){return __axle_js_middleware}const __axle_js_middleware_options=[];function useOptions(options){return __axle_js_middleware_options.push(options)}function __getMiddlewareOptions(){return __axle_js_middleware_options}function handleStatus(method,status,statusMessage){return 400<=status&&(statusMessage?`${method.toUpperCase()}: Fetch returned with error code ${status}. Status Message: "${statusMessage}"`:`Fetch returned with error ${status}`)}function isJSON(json){try{var jsonStr=JSON.stringify(json);return JSON.parse(jsonStr),!0}catch(error){return!1}}function getQuery(url){const urlSearchParams=new URLSearchParams(url);return Object.fromEntries(urlSearchParams.entries())}function queryParam(name,url){const urlSearchParams=new URLSearchParams(url);return urlSearchParams.has(name)?urlSearchParams.get(name):null}class AxleHeaders{constructor(headers){this.headers=headers}append(name,value){this.headers.append(name,value)}delete(name){return!!this.has(name)&&(this.headers.delete(name),!0)}deleteByValue(value){var found=Object.keys(this.object()).find(key=>this.object()[key]===value);return!!found&&(delete this.object()[found],!0)}get entries(){return this.headers.entries()}get(name){return this.headers.get(name)}getByValue(value){return Object.keys(this.object()).find(key=>this.object()[key]===value)}set(name,value,ifExists=!1){return!!ifExists&&(!!this.has(name)&&(this.headers.set(name,value),!0))}has(name){return this.headers.has(name)}hasValue(value){var values=this.valueArray();for(let i=0;i<values.length;i++){if(values[i]===value)return!0;if(i===values.length)return!1}}each(cb){const obj=this.object();Object.keys(obj).forEach((key,index)=>cb(key,obj[key],index))}keys(){return this.headers.keys()}values(){return this.headers.values()}keyArray(){return[...this.keys()]}valueArray(){return[...this.values()]}object(){return Object.fromEntries(this.entries)}is(name,value){return this.has(name)?this.get(name)===value:null}includesValue(_a,value){return this.has(_a)?(null===(_a=this.get(_a))||void 0===_a?void 0:_a.includes(value))||!1:null}get basic(){return Object.assign({},this.headers)}}var __awaiter=function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class AxleResponse{constructor(res,timeStart,timeEnd){this.res=res,this.timeStart=timeStart,this.timeEnd=timeEnd}json(){return __awaiter(this,void 0,void 0,function*(){return yield this.res.json()})}data(){return __awaiter(this,void 0,void 0,function*(){return yield this.res.text()})}body(){var _b;return __awaiter(this,void 0,void 0,function*(){return null===(_b=yield null===(_b=this.res.body)||void 0===_b?void 0:_b.getReader().read())||void 0===_b?void 0:_b.value})}get bodyReader(){return this.res.body}get bodyUsed(){return this.res.bodyUsed}redirect(url,ifStatusOk=!0){(!ifStatusOk||this.res.ok)&&location.replace(url.toString())}finishRedirect(){if(this.res.headers.has("Location")){const url=this.res.headers.get("Location");return location.replace((null===url||void 0===url?void 0:url.toString())||(console.error("AxleJS: Unexpected error. Headers includes location but retrieved header is undefined or null. Defaulted to a blank string."),"")),!0}return console.error('AxleJS: Cannot finish redirect. New Location Header ("Location") is not found.',`Location Header: ${this.res.headers.get("Location")}`),null}get status(){return this.res.status}get statusMessage(){return this.res.statusText}blob(){return __awaiter(this,void 0,void 0,function*(){return yield this.res.blob()})}get url(){return this.res.url}get query(){return getQuery(new URL(this.res.url).search)}queryParam(name){return queryParam(name,new URL(this.res.url).search)}get headers(){return new AxleHeaders(this.res.headers)}get timeTook(){return this.timeEnd-this.timeStart}get type(){return this.res.type}get basic(){return Object.assign({},this.res)}}var request_awaiter=function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class AxleRequest{constructor(method,url,body,options){this.method=method.toUpperCase(),this.url=url,this.body=body,this.options=options,this.response}run(){return request_awaiter(this,void 0,void 0,function*(){let middlewareOptions={};__getMiddlewareOptions().forEach(option=>{middlewareOptions=Object.assign(Object.assign({},middlewareOptions),option)});let fetchBody=this.body;fetchBody=isJSON(fetchBody)?JSON.stringify(this.body):this.body;const fetchOptions=Object.assign(Object.assign(Object.assign({},this.options),{method:this.method,body:fetchBody}),middlewareOptions);var timeStart=performance.now();const res=yield fetch(this.url,fetchOptions);var timeEnd=performance.now();return fetchOptions.handleStatus?fetchOptions.handleStatus(res.status,res.statusText)?""!==res.statusText.trim()?(this.response=new AxleResponse(res,timeStart,timeEnd),console.error(`${this.method.toUpperCase()}: Fetch returned with error code ${res.status}. Status Message: "${res.statusText}"`),Promise.reject({status:res.status,message:`${this.method.toUpperCase()}: Fetch returned with error code ${res.status}. Status Message: "${res.statusText}"`,response:this.response,request:this})):(this.response=new AxleResponse(res,timeStart,timeEnd),console.error(`${this.method.toUpperCase()}: Fetch returned with error code ${res.status}.`),Promise.reject({status:res.status,message:`${this.method.toUpperCase()}: Fetch returned with error code ${res.status}.`,response:this.response,request:this})):(this.response=new AxleResponse(res,timeStart,timeEnd),__getMiddleware().forEach(cb=>{cb(this,this.response)}),this.response):handleStatus(this.method,res.status,res.statusText)?(this.response=new AxleResponse(res,timeStart,timeEnd),console.error(handleStatus(this.method,res.status,res.statusText)),Promise.reject({status:res.status,message:handleStatus(this.method,res.status,res.statusText),response:this.response,request:this})):(this.response=new AxleResponse(res,timeStart,timeEnd),__getMiddleware().forEach(cb=>{cb(this,this.response)}),this.response)})}}var delete_awaiter=function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function deleteReq(url,data,options={mode:"cors",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json"}}){return delete_awaiter(this,void 0,void 0,function*(){const req=new AxleRequest("DELETE",url,data,options);return yield req.run()})}var get_awaiter=function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function get(url,options={mode:"cors",cache:"default"}){return get_awaiter(this,void 0,void 0,function*(){const req=new AxleRequest("GET",url,void 0,options);return yield req.run()})}var head_awaiter=function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function head(url,options={mode:"cors",cache:"default"}){return head_awaiter(this,void 0,void 0,function*(){const req=new AxleRequest("HEAD",url,void 0,options);return yield req.run()})}var patch_awaiter=function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function patch(url,data,options={mode:"cors",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json"}}){return patch_awaiter(this,void 0,void 0,function*(){const req=new AxleRequest("PATCH",url,data,options);return yield req.run()})}var post_awaiter=function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function post(url,data,options={mode:"cors",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json"}}){return post_awaiter(this,void 0,void 0,function*(){const req=new AxleRequest("POST",url,data,options);return yield req.run()})}var put_awaiter=function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function put(url,data,options={mode:"cors",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json"}}){return put_awaiter(this,void 0,void 0,function*(){const req=new AxleRequest("PUT",url,data,options);return yield req.run()})}function cors(){return{mode:"cors",cache:"default"}}function kneepads(){return{credentials:"omit",referrer:"",referrerPolicy:"no-referrer"}}function timeTook(){return(req,res)=>{console.log("Time Took: "+res.timeTook+"ms")}}class AxleCancelMark{constructor(){this.controller=new AbortController,this.signal=this.controller.signal}cancel(message){this.controller.abort(),message&&console.error(message)}}const Axle={post:post,get:get,delete:deleteReq,put:put,patch:patch,head:head,all:promises=>Promise.all(promises),cancelMark:AxleCancelMark,use:use,useOptions:useOptions,middleware:{timeTook:timeTook},middlewareOptions:{cors:cors,kneepads:kneepads}},lib=Axle;var __webpack_exports__default=__webpack_exports__.Z;export{__webpack_exports__default as default};